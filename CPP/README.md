# C++语言程序设计

## 绪论

### 计算机系统基本概念

#### 计算机硬件

![计算机硬件](http://sc0.ykt.io/ue_i/20200303/1234759975939739648.png)

#### 计算机程序语言

- 计算机解决问题是**程序控制**的

- 程序就是**操作步骤**

- 程序要使用**语言来表达**

#### 机器语言

- 计算机**能识别**的是机器语言

- 机器语言指令是由0和1编码的

- 例如：加法指令可能是"0001"

#### 计算机指令系统

- 机器硬件能够识别的语言（机器语言）的**集合**；

- 它是软件和硬件的主要界面。

#### 计算软件

- 是一系列按照特定顺序组织的计算机数据和指令的集合。一般来讲软件被划分为**系统软件、应用软件**和介于这两者之间的**中间件**；

- 软件包括程序和**文档**。

> 编写大型程序时，尤其要注意编写文档

#### 计算机程序

- 指令的序列；

- 描述解决问题的方法和数据。

### 计算机语言和程序设计方法

#### 最初的计算机语言——机器语言

- 由二进制代码构成

- 计算机硬件可以识别

- 可以表示简单的操作

    - 例如：加法、减法、数据移动等等

#### 汇编语言

- 将机器指令映射为助记符

    - 如ADD、SUB、mov等；

- 抽象层次低，需要考虑机器细节。

#### 高级语言

- 关键字、语句容易理解；

- 有含义的数据命名和算式；

- 抽象层次较高；

    - 例如，算式：a+b+c/d

- 屏蔽了机器的细节：

    - 例如，这样显示计算结果：
        - cout << a + b + c / d

#### C++语言

- 是高级语言

- 支持面向对象的观点和方法

- 将客观事物看做对象

- 对象间通过消息传送进行沟通

- 支持分类和抽象

#### 面向过程的程序设计方法

- 机器语言、汇编语言、高级语言都支持；

- 最初的目的：用于数学计算；

- 主要工作：设计求解问题的过程。

- 大型复杂的软件难以用面向过程的方式编写

#### 面向对象的程序设计方法

- 由面向对象的高级语言支持；

- 一个系统由对象构成；

- 对象之间通过消息进行通信。

### 面向对象的基本概念

#### 对象

- 一般意义上的对象：现实世界中实际存在的事物。

- 面向对象方法中的对象：程序中用来描述客观事物的实体。

#### 抽象与分类

- 分类依据的原则——抽象；

- 抽象出同一类对象的共同属性和行为形成类；

- 类与对象是类型与实例的关系。

#### 封装

- 隐蔽对象的内部细节；

- 对外形成一个边界；

- 只保留有限的对外接口；

- 使用方便、安全性好。

#### 继承

- 意义在于软件复用；

- 改造、扩展已有类形成新的类。

#### 多态

- 同样的消息作用在不同对象上，可以引起不同的行为。

### 程序的开发过程

#### 程序

- 源程序：

    - 用源语言写的，有待翻译的程序；

- 目标程序：

    - 源程序通过翻译程序加工以后生成的机器语言程序；

- 可执行程序：

    - 连接目标程序以及库中的某些文件，生成的一个可执行文件；

        - 例如：Windows系统平台上的.EXE文件。

#### 三种不同类型的翻译程序

- 汇编程序：

    - 将汇编语言源程序翻译成目标程序；

- 编译程序：

    - 将高级语言源程序翻译成目标程序；

- 解释程序：

    - 将高级语言源程序翻译成机器指令，边翻译边执行。

#### C++程序的开发过程

- 算法与数据结构设计；

- 源程序编辑；

- 编译；

- 连接；

- 测试；

- 调试。

### 计算机中的信息与存储单位

#### 计算机的基本功能

- 算术运算；

- 逻辑运算。

#### 计算机中信息：

- 控制信息——指挥计算机操作；

- 数据信息——计算机程序加工的对象。

![数据信息](http://sc0.ykt.io/ue_i/20191116/1195526480034140160.png)

#### 信息的存储单位

- 位(bit，b)：数据的最小单位，表示一位二进制信息；

- 字节(byte，B)：八位二进制数字组成(1 byte = 8 bit)；

- 千字节    1 KB = 1024 B；

- 兆字节    1 MB = 1024 K；

- 吉字节    1 GB = 1024 M。

### 计算机的数字系统

#### 计算机的数字系统

- 二进制系统；

- 基本符号：0、1。

#### 程序中常用的数制：

![程序中常用进制](http://sc0.ykt.io/ue_i/20191116/1195543238736482304.png)

- 制转换为十进制：
    - 各位数字与它的权相乘，其积相加，例如:
        - (11111111.11)<sub>2</sub>
     =1×2<sup>7</sup>+1×2<sup>6</sup>+1×2<sup>5</sup>+1×2<sup>4</sup>+1×2<sup>3</sup>+1×2<sup>2</sup>+1×2<sup>1</sup>+1×2<sup>0</sup>+1×2<sup>-1</sup>+1×2<sup>-2</sup> 
     =(255.75)<sub>10</sub>

#### 十进制整数转换为R 进制整数：

- “除以R取余”法。
    
    - 68<sub>10</sub>＝1000100<sub>2</sub>
![68=1000100](http://sc0.ykt.io/ue_i/20191116/1195543921728557056.png)

#### 十进制小数→ R 进制小数：

- “乘 以R 取整”法。

    - 0.312510  = 0.01012
![68=1000100](http://sc0.ykt.io/ue_i/20191116/1195544082131324928.png)

#### 二、八、十六进制的相互转换

- 1位八进制数相当于3位二进制数；

- 1位十六进制数相当于4位二进制数，例如：

    - (1011010.10)<sub>2</sub>=(001 011 010 .100)<sub>2</sub>=(132.4)<sub>8</sub>

    - (1011010.10)<sub>2</sub>=(0101 1010 .1000)<sub>2</sub>=(5A.8)<sub>16</sub>

    - (F7)<sub>16</sub>＝(1111 0111)<sub>2</sub>＝(11110111)<sub>2</sub>

### 数据在计算机中的编码表示

#### 二进制数的编码表示

- 需要解决的问题：负数如何表示？

- 最容易想到的方案：

    - 0：表示“+”号；

    - 1：表示“-”号。

- 原码

    - "符号 ── 绝对值"表示的编码

        - 例如：
![原码](http://sc0.ykt.io/ue_i/20191116/1195544525414731776.png)

    - 原码的缺点：

        - 零的表示不惟一

            - [+0]原 =000...0

            - [-0]原 =100...0

        - 进行四则运算时，符号位须单独处理，运算规则复杂。

- 补码

    - 符号位可作为数值参加运算；

    - 减法运算可转换为加法运算；

    - 0的表示唯一。
    
- 补码的原理

    - 模数：

        - n位二进制整数的模数为 2<sup>n</sup>

        - n位二进制小数的模数为 2。

    - 补数：

        - 一个数减去另一个数（加一个负数），等于第一个数加第二个数的补数，
            - 例（时钟指针）： 8+(-2)=8+10 ( mod  12 )=6；

        - 一个二进制负数可用其模数与真值做加法 (模减去该数的绝对值) 求得其补码，
            - 例（时钟指针）：-2+12=10。

- 补码的计算

    - 借助于“反码”作为中间码；
    
    - 负数的反码与原码有如下关系：
    
    - 位不变(仍用1表示)，其余各位取反(0变1，1变0)，例如：
    
        - X=-1100110   
    
        - [X]<sub>原</sub> =1 1100110   
    
        - [X]<sub>反</sub> =1 0011001
    
    
    - 正数的反码与原码表示相同，正数的补码与原码相同；
    
    - 反码只是求补码时的中间码；
    
    - 负数的补码由该数反码的末位加 1 求得。
    
    - 对补码再求补即得到原码。


- 补码的优点：

    - 0的表示唯一；

    - 符号位可作为数值参加运算；

    - 补码运算的结果仍为补码。
    
#### 实数的浮点表示

- 计算机中通常采用浮点方式表示小数；

- 实数 N 用浮点形式可表示为： N = M × 2<sup>E</sup>

    - E：2的幂，N：阶码；

    - M：N的尾数。

#### 字符在计算机中的表示

- 字符在计算机中是通过编码表示的；

- 例如：

    - ASCII码是一种常用的西文字符编码：用7位二进制数表示一个字符，最多可以表示27=128个字符；

    - 《GB 18030-2005 信息技术 中文编码字符集》是中国国家标准。

## C++简单程序设计

### C++的特点和程序实例

 
#### C++的产生和发展

- 从C语言发展演变而来，最初被称为"带类的C"；

- 1983年正式取名为C++；

- **1998年**11月被国际标准化组织（ISO）批准为国际标准；

- **2003年**10月15日发布**第2版C++标准**ISO/IEC 14882:2003；

- **2011年**8月12日ISO公布了第三版C++标准**C++11**，包含核心语言的新机能、扩展C++标准程序库。

- 2014年8月18日ISO公布了C++14，其正式名称为"International Standard ISO/IEC 14882:2014(E) Programming Language C++"。

- C++14作为C++11的一个小扩展，主要提供漏洞修复和小的改进。

#### C++的特点

- 兼容C，支持**面向过程**的程序设计；

- 支持**面向对象**的方法；

- 支持**泛型**程序设计方法。

#### 命名空间

避免命名冲突

std是C++标准库的命名空间（namespace）名

using namespace std表示打开std命名空间

```cpp
//例2_1.cpp

#include <iostream>

using namespace std;

int main() {

     cout << "Hello!" << endl;

     cout << "Welcome to c++!" << endl;

     return 0;

}
```
```text
Hello!
Welcome to c++！
```

### C++字符集和词法记号
 
#### 字符集

![字符集](http://sc0.ykt.io/ue_i/20200303/1234771740043907072.png)

#### 词法记号

- 关键字
    - C++预定义的单词

- 标识符
    - 程序员声明的单词，它命名程序正文中的一些实体

- 文字
    - 在程序中直接使用符号表示的数据

- 分隔符
    - 用于分隔各个词法记号或程序正文
    > ()  
    > {}   
    > ,    
    > :    
    > ; 

- 运算符（操作符）
    - 用于实现各种运算的符号

- 空白符
    - 空格、制表符（TAB键产生的字符）、垂直制表符、换行符、回车符和注释的总称

#### 标识符的构成规则

- 以大写字母、小写字母或下划线(_)开始。

- 可以由以大写字母、小写字母、下划线(_)或数字0～9组成。

- 大写字母和小写字母代表不同的标识符。

- 不能是C++关键字或操作符。
